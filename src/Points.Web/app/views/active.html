<div class="row">
    <div class="row">
        <h1>Active Week</h1>
        <hr/>
    </div>

    <div class="row">
        <uib-alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert(alert)">{{alert.msg}}</uib-alert>
    </div>

    <div class="row">
        <div uib-accordion close-others="true">
            <div uib-accordion-group ng-repeat="cat in cats" is-open="cat.isOpen">
                <div uib-accordion-heading>
                    {{cat.name}} ({{cat.tasks.length}} tasks) <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-up': cat.isOpen, 'glyphicon-chevron-down': !cat.isOpen}"></i>
                </div>
                <div uib-accordion close-others="false">
                    <div class="col-md-3" ng-repeat="task in cat.tasks">
                        <div uib-accordion-group is-open="task.isOpen">
                            <div uib-accordion-heading>
                                {{task.name}} <i class=" pull-right glyphicon" ng-class="{'glyphicon-chevron-up': task.isOpen, 'glyphicon-chevron-down': !task.isOpen}"></i>
                            </div>
                            <div class="panel panel-default">
                                <div class="panel-heading">Check!</div>
                                <div class="panel-body">Enter method to check off task here
                                </div>
                            </div><br/>
                            <div uib-accordion close-others="false">
                                <div uib-accordion-group is-open="task.duration.isOpen">
                                    <div uib-accordion-heading class="panel-heading">
                                        Details <i class=" pull-right glyphicon" ng-class="{'glyphicon-chevron-up': task.details.isOpen, 'glyphicon-chevron-down': !task.details.isOpen}"></i>
                                    </div>
                                    <div class="panel panel-default">
                                        <div class="panel-heading">Duration</div>
                                        <div class="panel-body">
                                            <span><b>Type:</b> <i>{{task.duration.type.name}}</i><br /></span>
                                            <span ng-hide="task.duration.type.name === 'None'"><b>Value:</b> <i>{{task.duration.value}}</i><br /></span>
                                            <span ng-hide="task.duration.type.name === 'None'"><b>Unit:</b> <i>{{task.duration.unit.name}}</i></span>
                                        </div>
                                    </div>
                                    <div class="panel panel-default">
                                        <div class="panel-heading">Frequency</div>
                                        <div class="panel-body">
                                            <span><b>Type:</b> <i>{{task.frequency.type.name}}</i><br /></span>
                                            <span ng-hide="task.frequency.type.name === 'Once'"><b>Value:</b> <i>{{task.frequency.value}}</i><br /></span>
                                            <span ng-hide="task.frequency.type.name === 'Once'"><b>Unit:</b> <i>{{task.frequency.unit.name}}</i></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">&nbsp;</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
